\newpage

# Conclusions and Outlook

In this thesis, we presented a solution to truly distribute the authentication mesh over distant clusters and trust zones. The Distributed Authentication Mesh in conjunction with the common identity was not able to run safely across trust zones [@buehler:DistAuthMesh; @buehler:CommonIdentity]. Inside the same trust zone, the mesh did provide its functionality. Although, as soon as the communication spans multiple clusters with their own gateways, the trust between the participants of the mesh could not be guaranteed. There was no mechanism in place to verify the sender of a common identity. The goals of this work were to analyze the current state of the mesh and provide a solution to distribute the Distributed Authentication Mesh over multiple trust zones. Ultimately creating a "Distributed Authentication Mesh".

{@sec:introduction} introduces the reader into the topic and provides references and introductions to past work. The section also briefly describes the general issue with shared trust in the Distributed Authentication Mesh.

{@sec:definitions} defines the scope of this thesis and presents prerequisite knowledge to the reader. The section gives an introduction into Kubernetes, the container orchestration software, since it is used to show the use-case of the Distributed Authentication Mesh in past work. Furthermore, several security related topics are described to allow the reader to understand the general problems at hand. {@sec:definitions} also explains two basic authentication and authorization mechanisms: "HTTP Basic" and "OpenID Connect". These mechanisms are primarily used to present the use-case of the Distributed Authentication Mesh. After the prerequisite knowledge, {@sec:definitions} also introduces the reader into the general topic of the Distributed Authentication Mesh and explains the concept of the mesh.

{@sec:state_of_the_art} then describes the current state of the Distributed Authentication Mesh and its shortcomings. It shows how the mesh uses the common identity from [@buehler:CommonIdentity] to encode authorization information into a JSON Web Token (JWT). The section then gives a general hypothesis on how the communication between distant trust zones can be achieved.

{@sec:concept} shows the theoretical contribution of this thesis. It describes three different variations to create a contract between two parties. After the explanation of the considered methods, the contract itself is designed and defined.

{@sec:implementation}, in conjunction with {@sec:concept}, describes the main part of this thesis. The section introduces the reader into the used demo applications, technologies, and programming languages of the thesis. A short introduction into the Rust programming language explains why the language was chosen for the implementation. The section then shows how the contract repository and the contract provider - two essential elements of this work - are implemented. Finally, {@sec:implementation} validates and proofs that the trusted connection between multiple PKI participants works as expected.

This thesis analyzed the issue and gives a detailed solution for the problem. The solution is based on the idea of a trust contract between the public key infrastructures (PKIs) of the mesh. Each PKI creates its own root certificate authority (CA) which is used by the services inside the same trust zone to communicate with each other. To allow communication between distant trust zones, the services must know the public certificates of the distant PKI to validate the provided client certificate. When such a contract is created, the contract provider fetches the involved public certificates and provides the certificate chain as a file. With that, the application proxies are able to require a client certificate and can validate it against the provided certificate chain. This allows the Distributed Authentication Mesh to span multiple trust zones and to be truly distributed.

![Multiple Trust Zones in a Distributed Authentication Mesh](images/06_multi_trust_zone_setup.png){#fig:06_multi_trust_zone_setup}

This thesis contributes to the concept of the Distributed Authentication Mesh. It extends the already defined components with a contract repository and allows the mesh to be distributed over multiple trust zones, as {@fig:06_multi_trust_zone_setup} shows. With the additional concept of the contracts, the mesh participants can now safely communicate with distant (with mTLS encryption) parties and trust the provided identity. When a participants proxy receives an HTTP request and the mTLS connection has been established, the proxy can be sure that the source of the request is a genuine part of the authentication mesh.

All created implementations and software repositories are available as open-source under the Apache 2.0 license. The source code can be found on GitHub under the organization "WirePact" (<https://github.com/WirePact>). To run a working demo setup of the full Distributed Authentication Mesh, the reader can follow the instructions in the README of the "docker-demo" repository (<https://github.com/WirePact/docker-demo>).

Future work can include the purposed work of past work like the addition of a rule engine into the concept of the Distributed Authentication Mesh. These rules could be incorporated into the contracts that are purposed in this thesis. Such a rule engine could, as an example, allow time based access to services inside a trust zone and block the communication when the rules do not apply. Also, with this project, the Distributed Authentication Mesh has become truly distributed and can communicate across trust zone boundaries. However, the contract repository itself is not yet distributed. Future work can include the distribution of the contract repository the distribution of the contract database itself.
