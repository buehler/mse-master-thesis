\newpage

# Conclusions and Outlook

In this thesis, the author presented a solution to truly distribute the authentication mesh over distant clusters, environments, and trust zones. The Distributed Authentication Mesh in conjunction with the common identity was not able to run safely across trust zones [@buehler:DistAuthMesh; @buehler:CommonIdentity]. Inside the same trust zone, the mesh did provide its functionality. Although, as soon as the communication spans multiple clusters with their own gateways, the trust between the participants of the mesh could not be guaranteed. There was no mechanism in place to verify the sender of a common identity. The goals of this work were to analyze the current state of the mesh and provide a solution to distribute the Distributed Authentication Mesh over multiple trust zones. Ultimately creating a "Distributed Authentication Mesh".

This thesis analyzes the issue and gives a detailed solution for the problem. The solution is based on the idea of a trust contract between the public key infrastructures (PKIs) of the mesh. Each PKI creates its own root certificate authority (CA) which is used by the services inside the same trust zone to communicate with each other. To allow communication between distant trust zones, the services must know the public certificates of the distant PKI to validate the provided client certificate. When such a contract is created, the contract provider fetches the public certificates involved and provides the certificate chain as a file. With that, the application proxies can enforce a client certificate and can validate it against the provided certificate chain. This allows the Distributed Authentication Mesh to span multiple trust zones and to be truly distributed.

![Multiple Trust Zones in a Distributed Authentication Mesh](images/06_multi_trust_zone_setup.png){#fig:06_multi_trust_zone_setup}

This thesis contributes to the concept of the Distributed Authentication Mesh. It extends the already defined components with a contract repository and allows the mesh to be distributed over multiple trust zones, as {@fig:06_multi_trust_zone_setup} shows. With the additional concept of the contracts, the mesh participants can now safely communicate with distant (with mTLS encryption) parties and trust the provided identity. When a participant's proxy receives an HTTP request and the mTLS connection has been established, the proxy can be sure that the source of the request is a genuine part of the authentication mesh.

The basic question that the Distributed Authentication Mesh answered was: "Is it possible to authenticate a user, if the communicating services do not share the same authentication mechanisms". Past work proved that it was indeed possible. The concepts of the authentication mesh allowed for a dynamic conversion of authentication credentials (e.g., access tokens or username/password combinations) into a "common identity" and vice versa [@buehler:DistAuthMesh; @buehler:CommonIdentity]. However, the Distributed Authentication Mesh was not able to span multiple trust zones. Today, many real-world situations require the communication of services across multiple trust zones and/or clusters. The addition of trust contracts, the respective repository, and the contract providers to the concept of the mesh allows it to finally span across multiple trust zones as shown in {@fig:06_multi_trust_zone_setup}.

All created implementations and software repositories are available as open-source under the Apache 2.0 license. The source code can be found on GitHub under the organization "WirePact" (<https://github.com/WirePact>). To run a working demo setup of the full Distributed Authentication Mesh, the reader can follow the instructions in the README of the "docker-demo" repository (<https://github.com/WirePact/docker-demo>).

Future work may include the purposed work of past work like the addition of a rule engine into the concept of the Distributed Authentication Mesh. These rules could be incorporated into the contracts that are purposed in this thesis. Such a rule engine could, as an example, allow time-based access to services inside a trust zone and block communication when the rules do not apply. Also, with this project, the Distributed Authentication Mesh has become truly distributed and can communicate across trust zone boundaries. However, the contract repository itself is not yet distributed. Future work can include the distribution of the contract repository with the distribution of the contract database itself.
